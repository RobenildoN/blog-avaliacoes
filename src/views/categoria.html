<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Categoria - Blog de Avaliações</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <h1>Blog de Avaliações</h1>
        <input type="text" placeholder="Pesquisar..." id="search">
        <nav>
            <ul>
                <li><a href="../views/categoria.html?cat=mangas">Mangás</a></li>
                <li><a href="../views/categoria.html?cat=livros">Livros</a></li>
                <li><a href="../views/categoria.html?cat=filmes">Filmes</a></li>
                <li><a href="../views/categoria.html?cat=series">Séries</a></li>
                <li><a href="../views/categoria.html?cat=cursos">Cursos</a></li>
                <li><a href="../views/login.html">Logar</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <h2>Posts da Categoria: <span id="category-name"></span></h2>
        <div id="posts-container">
            <!-- Os posts da categoria serão carregados aqui -->
        </div>
        <p id="no-posts-message" style="display: none;">Categoria sem posts.</p>
    </main>

    <footer>
        <p><a href="#top">Blog de Avaliações</a></p>
    </footer>

    <script>
        // Função para carregar posts da categoria
        function loadPostsByCategory() {
            const urlParams = new URLSearchParams(window.location.search);
            const category = urlParams.get('cat');
            document.getElementById('category-name').innerText = category.charAt(0).toUpperCase() + category.slice(1);

            // Simulação de chamada para buscar posts da categoria
            const posts = []; // Aqui você deve fazer uma chamada para o servidor para buscar os posts

            const postsContainer = document.getElementById('posts-container');
            if (posts.length === 0) {
                document.getElementById('no-posts-message').style.display = 'block';
            } else {
                posts.forEach(post => {
                    const postElement = document.createElement('div');
                    postElement.classList.add('post');
                    postElement.innerHTML = `
                        <h3>${post.title}</h3>
                        <img src="../public/img/exemplo.jpg" alt="${post.title}">
                        <p>${post.summary}</p>
                        <p>Avaliação: ${post.rating} estrelas</p>
                        <p>Data do post: ${post.date}</p>
                    `;
                    postsContainer.appendChild(postElement);
                });
            }
        }

        // Carregar posts ao iniciar a página
        window.onload = loadPostsByCategory;
    </script>
</body>
</html>